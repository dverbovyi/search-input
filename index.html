<!DOCTYPE html>
<html ng-app="searchStaff">

  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.8/angular.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ng-tags-input/3.1.1/ng-tags-input.js"></script>

    <script src="./build/app.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ng-tags-input/3.1.1/ng-tags-input.min.css">
  </head>

  <body ng-controller="AppController as vm">
    <tags-input
      ng-model="vm.selected"
      display-property="value"
      on-tag-adding="vm.addTag($tag)"
      on-tag-removing="vm.removeTag($tag)"
      on-tag-added="vm.updateSearchQuery()"
      on-tag-removed="vm.updateSearchQuery()"
      add-from-autocomplete-only="true"
      replace-spaces-with-dashes="false"
      min-length="1"
    >
      <auto-complete
        source="vm.autocomplete($query)"
        display-property="value"
        min-length="1"
        template="autocomplete-tpl"
        load-on-empty="true"
        load-on-focus="true"
      ></auto-complete>
    </tags-input>
    <script type="text/ng-template" id="autocomplete-tpl">
      <b>{{data.name}}</b>:
      <span ng-bind-html="$highlight($getDisplayText())"></span>
    </script>
    <h1>Matched users:</h1>
    <ul>
        <li ng-repeat="employee in vm.matchedPeople track by employee.name">
          {{employee.name}}
        </li>
    </ul>
  </body>

</html>
